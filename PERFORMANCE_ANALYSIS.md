# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ localStorage:
```json
{
  "2025-12-03": "mood-angry",
  "2025-12-04": "mood-anxity",
  "2025-12-05": "mood-good",
  ...
  // –ú–æ–∂–µ—Ç –±—ã—Ç—å 500+ –∑–∞–ø–∏—Å–µ–π
}
```

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á—Ç–µ–Ω–∏—è localStorage

### –¢–µ–∫—É—â–∏–π –∫–æ–¥ –≤ YearlyTracker.tsx:

```tsx
const cellColorsMap = useMemo(() => {
  const map = new Map<string, string | null>();
  
  // –î–≤–æ–π–Ω–æ–π —Ü–∏–∫–ª: 31 –¥–µ–Ω—å √ó 12 –º–µ—Å—è—Ü–µ–≤ = 372 –∏—Ç–µ—Ä–∞—Ü–∏–∏
  for (let day = 1; day <= 31; day++) {
    for (let month = 1; month <= 12; month++) {
      const dateString = getDateString(day, month); // "2025-12-04"
      
      // ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —á–∏—Ç–∞–µ—Ç localStorage!
      const moodName = getMoodByDate(dateString);
      // ‚Üì
      // getMoodByDate ‚Üí getMoodStorageData()
      // ‚Üì
      // localStorage.getItem() + JSON.parse() - 372 –†–ê–ó–ê!
      
      map.set(`${day}-${month}`, getMoodHexColor(moodName));
    }
  }
  return map;
}, [refreshKey, currentYear]);
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. **372 –∏—Ç–µ—Ä–∞—Ü–∏–∏** (31 –¥–µ–Ω—å √ó 12 –º–µ—Å—è—Ü–µ–≤)
2. **–í –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏:**
   - `getMoodByDate("2025-12-04")` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
   - –í–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `getMoodStorageData()`
   - `getMoodStorageData()` —á–∏—Ç–∞–µ—Ç `localStorage.getItem("selectedMood")`
   - `JSON.parse()` –ø–∞—Ä—Å–∏—Ç –≤–µ—Å—å JSON (–¥–∞–∂–µ –µ—Å–ª–∏ 500 –∑–∞–ø–∏—Å–µ–π!)
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç
   - –î–æ—Å—Ç—É–ø –∫ `data["2025-12-04"]` - —ç—Ç–æ O(1), –±—ã—Å—Ç—Ä–æ

### –ò—Ç–æ–≥–æ:
- **372 —á—Ç–µ–Ω–∏—è** –∏–∑ localStorage
- **372 –ø–∞—Ä—Å–∏–Ω–≥–∞** JSON
- **372 —Ä–∞–∑–∞** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤–µ—Å—å –æ–±—ä–µ–∫—Ç (–¥–∞–∂–µ –µ—Å–ª–∏ 500 –∑–∞–ø–∏—Å–µ–π)

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è - —á–∏—Ç–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑

### –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥:

```tsx
const cellColorsMap = useMemo(() => {
  const _ = refreshKey; // Force dependency
  
  // ‚úÖ –û–î–ò–ù –†–ê–ó —á–∏—Ç–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage
  const allMoodData = getMoodStorageData(); // –ß–∏—Ç–∞–µ–º –∏ –ø–∞—Ä—Å–∏–º 1 —Ä–∞–∑
  
  const map = new Map<string, string | null>();
  
  // –¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –¥–∞—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  for (let day = 1; day <= 31; day++) {
    for (let month = 1; month <= 12; month++) {
      if (!isValidDay(day, month)) {
        map.set(`${day}-${month}`, null);
        continue;
      }
      
      const dateString = getDateString(day, month);
      
      // ‚úÖ –ü—Ä–æ—Å—Ç–æ –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É - O(1), –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ!
      const moodName = allMoodData[dateString] || null;
      
      map.set(`${day}-${month}`, getMoodHexColor(moodName));
    }
  }
  return map;
}, [refreshKey, currentYear]);
```

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

1. **–û–¥–∏–Ω —Ä–∞–∑** —á–∏—Ç–∞–µ–º `localStorage.getItem()`
2. **–û–¥–∏–Ω —Ä–∞–∑** –ø–∞—Ä—Å–∏–º `JSON.parse()`
3. **372 —Ä–∞–∑–∞** –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ –æ–±—ä–µ–∫—Ç—É –ø–æ –∫–ª—é—á—É - O(1)

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—Ç–µ–∫—É—â–∏–π –∫–æ–¥):

```
372 –∏—Ç–µ—Ä–∞—Ü–∏–∏ √ó (—á—Ç–µ–Ω–∏–µ localStorage + –ø–∞—Ä—Å–∏–Ω–≥ JSON + –¥–æ—Å—Ç—É–ø –∫ –∫–ª—é—á—É)
= 372 √ó (–º–µ–¥–ª–µ–Ω–Ω–æ + –º–µ–¥–ª–µ–Ω–Ω–æ + –±—ã—Å—Ç—Ä–æ)
= –û–ß–ï–ù–¨ –ú–ï–î–õ–ï–ù–ù–û
```

**–í—Ä–µ–º—è –¥–ª—è 500 –∑–∞–ø–∏—Å–µ–π:**
- –ß—Ç–µ–Ω–∏–µ localStorage: ~0.1ms √ó 372 = **37ms**
- –ü–∞—Ä—Å–∏–Ω–≥ JSON (500 –∑–∞–ø–∏—Å–µ–π): ~2ms √ó 372 = **744ms**
- –î–æ—Å—Ç—É–ø –∫ –∫–ª—é—á—É: ~0.001ms √ó 372 = **0.4ms**
- **–ò—Ç–æ–≥–æ: ~781ms** ‚ö†Ô∏è

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```
1 —Ä–∞–∑ (—á—Ç–µ–Ω–∏–µ localStorage + –ø–∞—Ä—Å–∏–Ω–≥ JSON) + 372 —Ä–∞–∑–∞ (–¥–æ—Å—Ç—É–ø –∫ –∫–ª—é—á—É)
= 1 √ó (–º–µ–¥–ª–µ–Ω–Ω–æ + –º–µ–¥–ª–µ–Ω–Ω–æ) + 372 √ó (–±—ã—Å—Ç—Ä–æ)
= –ë–´–°–¢–†–û
```

**–í—Ä–µ–º—è –¥–ª—è 500 –∑–∞–ø–∏—Å–µ–π:**
- –ß—Ç–µ–Ω–∏–µ localStorage: ~0.1ms √ó 1 = **0.1ms**
- –ü–∞—Ä—Å–∏–Ω–≥ JSON (500 –∑–∞–ø–∏—Å–µ–π): ~2ms √ó 1 = **2ms**
- –î–æ—Å—Ç—É–ø –∫ –∫–ª—é—á—É: ~0.001ms √ó 372 = **0.4ms**
- **–ò—Ç–æ–≥–æ: ~2.5ms** ‚úÖ

**–£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~312 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!** üöÄ

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –î–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É –ø–æ –∫–ª—é—á—É - O(1)

```javascript
const data = { "2025-12-04": "mood-angry" };
data["2025-12-04"] // O(1) - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –¥–∞–∂–µ –¥–ª—è 500 –∑–∞–ø–∏—Å–µ–π
```

**–ü–æ—á–µ–º—É –±—ã—Å—Ç—Ä–æ:**
- JavaScript –æ–±—ä–µ–∫—Ç—ã - —ç—Ç–æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã
- –î–æ—Å—Ç—É–ø –ø–æ –∫–ª—é—á—É –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –æ–±—ä–µ–∫—Ç–∞
- 10 –∑–∞–ø–∏—Å–µ–π –∏–ª–∏ 10,000 - –æ–¥–∏–Ω–∞–∫–æ–≤–æ –±—ã—Å—Ç—Ä–æ

### 2. –ü–∞—Ä—Å–∏–Ω–≥ JSON - O(n)

```javascript
JSON.parse(localStorage.getItem("selectedMood"))
// –î–æ–ª–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ 500 –∑–∞–ø–∏—Å–µ–π
// –í—Ä–µ–º—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```

**–ü–æ—á–µ–º—É –º–µ–¥–ª–µ–Ω–Ω–æ:**
- –ù—É–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤–µ—Å—å JSON
- –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—Å–µ –∫–ª—é—á–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è
- –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ –ø–∞–º—è—Ç–∏

### 3. –ß—Ç–µ–Ω–∏–µ localStorage - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

```javascript
localStorage.getItem("selectedMood")
// –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
// –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –î–ª—è 500 –∑–∞–ø–∏—Å–µ–π - –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ù–£–ñ–ù–ê

–¢–µ–∫—É—â–∏–π –∫–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ. –ù—É–∂–Ω–æ:
1. –ß–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–¥–∏–Ω —Ä–∞–∑ –≤ `useMemo`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç

### ‚úÖ –î–ª—è 10-50 –∑–∞–ø–∏—Å–µ–π - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

–†–∞–∑–Ω–∏—Ü–∞ –±—É–¥–µ—Ç –Ω–µ–∑–∞–º–µ—Ç–Ω–∞, –Ω–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ —Ä–∞–≤–Ω–æ —É–ª—É—á—à–∏—Ç –∫–æ–¥.

### ‚úÖ –î–ª—è 1000+ –∑–∞–ø–∏—Å–µ–π - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±—É–¥–µ—Ç –∑–∞–º–µ—Ç–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è.

---

## üõ†Ô∏è –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ `moodStorage.ts` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —Å—Ä–∞–∑—É:

```typescript
// –í moodStorage.ts - —É–∂–µ –µ—Å—Ç—å!
export const getAllMoodData = (): Array<{ date: string; mood: string }> => {
  const data = getMoodStorageData();
  return Object.entries(data)
    .map(([date, mood]) => ({ date, mood }))
    .sort((a, b) => b.date.localeCompare(a.date));
};

// –ò–ª–∏ –ª—É—á—à–µ - –≤–µ—Ä–Ω—É—Ç—å —Å–∞–º –æ–±—ä–µ–∫—Ç:
export const getAllMoodDataAsObject = (): MoodStorageData => {
  return getMoodStorageData();
};
```

–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `YearlyTracker`:

```tsx
const allMoodData = getAllMoodDataAsObject(); // –û–¥–∏–Ω —Ä–∞–∑
const moodName = allMoodData[dateString] || null; // –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø
```

---

## üìù –ò—Ç–æ–≥

**–¢–µ–∫—É—â–∏–π –º–µ—Ç–æ–¥:**
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É –ø–æ –∫–ª—é—á—É - –≤–∞–ª–∏–¥–µ–Ω –¥–ª—è –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π
- ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á—Ç–µ–Ω–∏—è localStorage - –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥:**
- ‚úÖ –û–¥–Ω–æ —á—Ç–µ–Ω–∏–µ localStorage
- ‚úÖ –û–¥–∏–Ω –ø–∞—Ä—Å–∏–Ω–≥ JSON
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—ã—Å—Ç—Ä—ã–µ –¥–æ—Å—Ç—É–ø—ã –∫ –æ–±—ä–µ–∫—Ç—É

**–í—ã–≤–æ–¥:** –ú–µ—Ç–æ–¥ –≤–∞–ª–∏–¥–µ–Ω, –Ω–æ –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á—Ç–µ–Ω–∏–π localStorage.





