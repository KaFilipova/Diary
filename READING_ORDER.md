# üìñ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —á—Ç–µ–Ω–∏—è –∫–æ–¥–∞

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø: –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∫ —Å–ª–æ–∂–Ω–æ–º—É, –æ—Ç –¥–∞–Ω–Ω—ã—Ö –∫ UI

---

## üìö –≠—Ç–∞–ø 1: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ)

### 1.1 `src/utils/moodConfig.ts` ‚≠ê –ù–ê–ß–ù–ò–¢–ï –ó–î–ï–°–¨

**–ü–æ—á–µ–º—É –ø–µ—Ä–≤—ã–º:** –≠—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∏–∫–∞–∫–æ–π –ª–æ–≥–∏–∫–∏.

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- –ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è (name, label, color)
- –ö–∞–∫ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `import.meta.glob`
- –ö–∞–∫ —Å–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ `moods` —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã (—Ñ–∞–π–ª `src/utils/moodConfig.ts`):**

```typescript
// –ü—Ä–æ—Å—Ç–æ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π
export const moodConfig = [
  { name: "mood-awesome", label: "awesome", color: "#FF6B35" },
  // ...
];

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
const allMoodImages = Object.values(
  import.meta.glob("../assets/images/mood-*.png", { eager: true })
);

// üìñ –†–ê–°–®–ò–§–†–û–í–ö–ê:
//
// 1. import.meta.glob() - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è Vite –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
//    - –ò—â–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É "mood-*.png"
//    - –ü–∞—Ç—Ç–µ—Ä–Ω –æ–∑–Ω–∞—á–∞–µ—Ç: "–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å mood- –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ .png"
//    - –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: mood-awesome.png, mood-good.png, mood-sad.png –∏ —Ç.–¥.
//
// 2. { eager: true } - –æ–ø—Ü–∏—è "–∂–∞–¥–Ω–æ–π" –∑–∞–≥—Ä—É–∑–∫–∏
//    - eager: true  ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –°–†–ê–ó–£ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
//    - eager: false ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –õ–ï–ù–ò–í–û (—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ)
//    - –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ eager: true, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω—É–∂–Ω—ã —Å—Ä–∞–∑—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
//
// 3. import.meta.glob() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –û–ë–™–ï–ö–¢, –≥–¥–µ:
//    - –ö–ª—é—á = –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: "../assets/images/mood-awesome.png")
//    - –ó–Ω–∞—á–µ–Ω–∏–µ = –º–æ–¥—É–ª—å —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
//    –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
//    {
//      "../assets/images/mood-awesome.png": "/src/assets/images/mood-awesome.png",
//      "../assets/images/mood-good.png": "/src/assets/images/mood-good.png",
//      ...
//    }
//
// 4. Object.values() - –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ó–ù–ê–ß–ï–ù–ò–Ø –∏–∑ –æ–±—ä–µ–∫—Ç–∞
//    - –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ (–ø—É—Ç–µ–π –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º)
//    - –†–µ–∑—É–ª—å—Ç–∞—Ç: ["/src/assets/images/mood-awesome.png", "/src/assets/images/mood-good.png", ...]
//
// 5. –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç allMoodImages:
//    - –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ —Å –ø—É—Ç—è–º–∏ –∫–æ –≤—Å–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π
//    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∞–ª—å—à–µ –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å moodConfig (—Å—Ç—Ä–æ–∫–∞ 24)
//
// üí° –ó–ê–ß–ï–ú –≠–¢–û –ù–£–ñ–ù–û:
// - –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
// - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É
// - –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç–µ –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ mood-new.png, –æ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—Å—è
// - –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –∫–æ–¥ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π!
```

---

## üìö –≠—Ç–∞–ø 2: –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### 2.1 `src/components/MoodSelector/MoodSelector.tsx` (—Ç–æ–ª—å–∫–æ —Ç–∏–ø—ã)

**–ü–æ—á–µ–º—É –≤—Ç–æ—Ä—ã–º:** –ù—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π —Å –Ω–∏–º–∏.

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- –¢–∏–ø `Mood` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
- –¢–∏–ø `MoodCardProps` - –∫–∞–∫–∏–µ –ø—Ä–æ–ø—Å—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–í—Ä–µ–º—è:** 2 –º–∏–Ω—É—Ç—ã

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã (—Ñ–∞–π–ª `src/components/MoodSelector/MoodSelector.tsx`):**

```typescript
export type Mood = {
  name: string; // "mood-awesome"
  label: string; // "awesome"
  image: string; // –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
  color: string; // "#FF6B35"
};
```

---

## üìö –≠—Ç–∞–ø 3: –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (–ª–æ–≥–∏–∫–∞ –±–µ–∑ UI)

### 3.1 `src/utils/moodStorage.ts` ‚≠ê –í–ê–ñ–ù–û

**–ü–æ—á–µ–º—É —Ç—Ä–µ—Ç—å–∏–º:** –í—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å localStorage –∑–¥–µ—Å—å.

**–ß–∏—Ç–∞–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:**

#### 3.1.1 –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ç–∏–ø—ã (—Å—Ç—Ä–æ–∫–∏ 1-6) ‚Äî `src/utils/moodStorage.ts`

```typescript
const SELECTED_MOOD_KEY = "selectedMood";
type MoodStorageData = Record<string, string>;
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:** –ö–ª—é—á –≤ localStorage –∏ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö.

#### 3.1.2 –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (—Å—Ç—Ä–æ–∫–∏ 8-17) ‚Äî `src/utils/moodStorage.ts`

```typescript
const getTodayLocalDate = (): string => { ... }
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:** –ö–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD`.

#### 3.1.3 –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ 19-38) ‚Äî `src/utils/moodStorage.ts`

```typescript
const migrateOldFormat = (): void => { ... }
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:** –ö–∞–∫ —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç (`"mood-angry"`) –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –Ω–æ–≤—ã–π (`{"2025-12-04": "mood-angry"}`).

#### 3.1.4 –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ 40-61) ‚Äî `src/utils/moodStorage.ts`

```typescript
const getMoodStorageData = (): MoodStorageData => { ... }
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:** –ö–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π.

#### 3.1.5 –ü—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 63-154) ‚Äî `src/utils/moodStorage.ts`

–ß–∏—Ç–∞–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

1. `saveMoodForToday` - –∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
2. `getMoodByDate` - –∫–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ –¥–∞—Ç–µ
3. `getAllMoodDataAsObject` - **–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É (—á–∏—Ç–∞–µ—Ç localStorage –æ–¥–∏–Ω —Ä–∞–∑)
4. `getSelectedMood` - –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–ª—è —Å–µ–≥–æ–¥–Ω—è
5. –û—Å—Ç–∞–ª—å–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–í—Ä–µ–º—è:** 15-20 –º–∏–Ω—É—Ç

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**

- –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö: `{ "2025-12-04": "mood-awesome" }`
- Custom Event: `window.dispatchEvent("moodChanged")` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** `getAllMoodDataAsObject()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `YearlyTracker` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ - –≤–º–µ—Å—Ç–æ 372 —á—Ç–µ–Ω–∏–π localStorage —á–∏—Ç–∞–µ–º –æ–¥–∏–Ω —Ä–∞–∑

---

## üìö –≠—Ç–∞–ø 4: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤–∏–∑—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å)

### 4.1 `src/components/MoodSelector/MoodCard.tsx` ‚≠ê

**–ü–æ—á–µ–º—É —á–µ—Ç–≤–µ—Ä—Ç—ã–º:** –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç UI.

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- –ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `isSelected` –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è
- –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–ª–∏–∫ —á–µ—Ä–µ–∑ `onClick`

**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã (—Ñ–∞–π–ª `src/components/MoodSelector/MoodCard.tsx`):**

```tsx
// –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç–∏–ª–µ–π
border: isSelected ? "3px solid" : "3px solid transparent";
transform: isSelected ? "scale(1.15)" : "scale(1)";
```

---

## üìö –≠—Ç–∞–ø 5: –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å–µ –≤–º–µ—Å—Ç–µ)

### 5.1 `src/pages/MoodPage.tsx` ‚≠ê –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ

**–ü–æ—á–µ–º—É –ø—è—Ç—ã–º:** –¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –≤—Å–µ —á–∞—Å—Ç–∏, –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ.

**–ß–∏—Ç–∞–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:**

#### 5.1.1 –ò–º–ø–æ—Ä—Ç—ã (—Å—Ç—Ä–æ–∫–∏ 1-8) ‚Äî `src/pages/MoodPage.tsx`

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:** –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

#### 5.1.2 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 12-20) ‚Äî `src/pages/MoodPage.tsx`

```tsx
const [selectedMood, setSelectedMood] = useState(() => {
  // Lazy initialization
  const today = "2025-12-04";
  return getMoodByDate(today);
});
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- Lazy initialization –≤ `useState`
- –ö–∞–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### 5.1.3 –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 22-28) ‚Äî `src/pages/MoodPage.tsx`

```tsx
const handleMoodClick = (moodName: string) => {
  const newSelectedMood = moodName === selectedMood ? null : moodName;
  setSelectedMood(newSelectedMood);
  saveMoodForToday(newSelectedMood);
};
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- Toggle –ª–æ–≥–∏–∫–∞ (–∫–ª–∏–∫ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ ‚Üí —Å–Ω–∏–º–∞–µ—Ç –≤—ã–±–æ—Ä)
- –ü–æ—Ä—è–¥–æ–∫: —Å–Ω–∞—á–∞–ª–∞ UI, –ø–æ—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

#### 5.1.4 –†–µ–Ω–¥–µ—Ä (—Å—Ç—Ä–æ–∫–∏ 30-70) ‚Äî `src/pages/MoodPage.tsx`

```tsx
{
  moods.map((mood) => (
    <MoodCard
      key={mood.name}
      mood={mood}
      isSelected={selectedMood === mood.name}
      onClick={() => handleMoodClick(mood.name)}
    />
  ));
}
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- –ö–∞–∫ –º–∞–ø–ø–∏—Ç—Å—è –º–∞—Å—Å–∏–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ö–∞–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isSelected`
- –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `key` –≤ —Å–ø–∏—Å–∫–∞—Ö

**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç

---

## üìö –≠—Ç–∞–ø 6: –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 6.1 `src/components/YearlyTracker/YearlyTracker.tsx`

**–ü–æ—á–µ–º—É –ø–æ—Å–ª–µ–¥–Ω–∏–º:** –°–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–Ω–∞–Ω–∏—è.

**–ß–∏—Ç–∞–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:**

#### 6.1.1 –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 6-30) ‚Äî `src/components/YearlyTracker/YearlyTracker.tsx`

- `getMoodHexColor` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–º–µ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –≤ —Ü–≤–µ—Ç
- `isValidDay` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –¥–Ω—è –¥–ª—è –º–µ—Å—è—Ü–∞

#### 6.1.2 –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã (—Å—Ç—Ä–æ–∫–∏ 32-62) ‚Äî `src/components/YearlyTracker/YearlyTracker.tsx`

```tsx
const [refreshKey, setRefreshKey] = useState(1);

useEffect(() => {
  // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
  window.addEventListener("moodChanged", handleMoodChange);
  // ...
}, []);
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `refreshKey` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ Custom Events
- –ö–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏

#### 6.1.3 –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä–æ–∫–∏ 71-92) ‚Äî `src/components/YearlyTracker/YearlyTracker.tsx`

```tsx
const cellColorsMap = useMemo(() => {
  // ‚úÖ OPTIMIZATION: Read all data from localStorage ONCE instead of 372 times
  const allMoodData = getAllMoodDataAsObject();

  const map = new Map<string, string | null>();
  for (let day = 1; day <= 31; day++) {
    for (let month = 1; month <= 12; month++) {
      const dateString = getDateString(day, month);
      // ‚úÖ Fast O(1) access to already-loaded object (no localStorage read)
      const moodName = allMoodData[dateString] || null;
      map.set(`${day}-${month}`, getMoodHexColor(moodName));
    }
  }
  return map;
}, [refreshKey, currentYear]);
```

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `useMemo` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ö–∞–∫ –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª—è—é—Ç—Å—è —Ü–≤–µ—Ç–∞ –¥–ª—è 372 —è—á–µ–µ–∫ (31√ó12)
- **–í–∞–∂–Ω–æ:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ - —á–∏—Ç–∞–µ–º localStorage –æ–¥–∏–Ω —Ä–∞–∑, –∞ –Ω–µ 372 —Ä–∞–∑–∞
- –ü–æ—á–µ–º—É `getAllMoodDataAsObject()` –±—ã—Å—Ç—Ä–µ–µ —á–µ–º `getMoodByDate()` –≤ —Ü–∏–∫–ª–µ
- –î–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É –ø–æ –∫–ª—é—á—É - O(1), —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–∞–∂–µ –¥–ª—è 500+ –∑–∞–ø–∏—Å–µ–π

#### 6.1.4 –†–µ–Ω–¥–µ—Ä —Ç–∞–±–ª–∏—Ü—ã (—Å—Ç—Ä–æ–∫–∏ 99-210) ‚Äî `src/components/YearlyTracker/YearlyTracker.tsx`

**–ß—Ç–æ –ø–æ–Ω—è—Ç—å:**

- CSS Grid –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç–∫–∏
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —è—á–µ–µ–∫
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö/–Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–Ω–µ–π

**–í—Ä–µ–º—è:** 20-30 –º–∏–Ω—É—Ç

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ —á—Ç–µ–Ω–∏—è

```
1. moodConfig.ts          (5 –º–∏–Ω)   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
2. MoodSelector.tsx       (2 –º–∏–Ω)   - –¢–∏–ø—ã
3. moodStorage.ts         (20 –º–∏–Ω) - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚≠ê
4. MoodCard.tsx           (5 –º–∏–Ω)   - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
5. MoodPage.tsx           (10 –º–∏–Ω)  - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚≠ê
6. YearlyTracker.tsx      (30 –º–∏–Ω)  - –°–ª–æ–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~1-1.5 —á–∞—Å–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —á—Ç–µ–Ω–∏—é

### ‚úÖ –î–µ–ª–∞–π—Ç–µ —Ç–∞–∫:

1. **–ß–∏—Ç–∞–π—Ç–µ —Å –∫–∞—Ä–∞–Ω–¥–∞—à–æ–º** - —Ä–∏—Å—É–π—Ç–µ —Å—Ö–µ–º—ã –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
2. **–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** - —Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ DevTools** - —Å—Ç–∞–≤—å—Ç–µ breakpoints, —Å–º–æ—Ç—Ä–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ localStorage** - –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5. **–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã** - "–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –µ—Å–ª–∏...?"

### ‚ùå –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫:

1. –ù–µ —á–∏—Ç–∞–π—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã —Å—Ä–∞–∑—É - –∑–∞–ø—É—Ç–∞–µ—Ç–µ—Å—å
2. –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ —ç—Ç–∞–ø—ã - –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –≤–∞–∂–µ–Ω
3. –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –∑–∞–ø–æ–º–Ω–∏—Ç—å –≤—Å–µ - –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≤–∞–∂–Ω–µ–µ –∑–∞—É—á–∏–≤–∞–Ω–∏—è
4. –ù–µ —á–∏—Ç–∞–π—Ç–µ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ - –≤—Å–µ–≥–¥–∞ –ø–æ–Ω–∏–º–∞–π—Ç–µ –ó–ê–ß–ï–ú –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω

---

## üîç –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

### –ü–æ—Å–ª–µ moodConfig.ts:

- –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

### –ü–æ—Å–ª–µ moodStorage.ts:

- –í –∫–æ–Ω—Å–æ–ª–∏: `localStorage.getItem("selectedMood")`
- –í—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é: `saveMoodForToday("mood-good")`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –ü–æ—Å–ª–µ MoodPage.tsx:

- –ü–æ—Å—Ç–∞–≤—å—Ç–µ breakpoint –≤ `handleMoodClick`
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è `selectedMood`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage

### –ü–æ—Å–ª–µ YearlyTracker.tsx:

- –ò–∑–º–µ–Ω–∏—Ç–µ —Ü–≤–µ—Ç –æ–¥–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –≤ `moodConfig`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å
- –î–æ–±–∞–≤—å—Ç–µ console.log –≤ `useMemo` —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–æ–≥–¥–∞ –æ–Ω –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
- **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é:** –î–æ–±–∞–≤—å—Ç–µ `console.time()` –¥–æ –∏ `console.timeEnd()` –ø–æ—Å–ª–µ `getAllMoodDataAsObject()` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –¥–∞–∂–µ —Å 500+ –∑–∞–ø–∏—Å—è–º–∏

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è

–ü–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–Ω–∏–º–∞—Ç—å:

- [ ] –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ `moodConfig.ts`
- [ ] –ö–∞–∫ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage (—Ñ–æ—Ä–º–∞—Ç –æ–±—ä–µ–∫—Ç–∞ —Å –¥–∞—Ç–∞–º–∏)
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –ö–∞–∫ `saveMoodForToday` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è
- [ ] –ö–∞–∫ `getMoodByDate` –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ –¥–∞—Ç–µ
- [ ] –ö–∞–∫ `MoodPage` –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç toggle –ª–æ–≥–∏–∫–∞ –≤ `handleMoodClick`
- [ ] –ö–∞–∫ `MoodCard` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–µ/–Ω–µ–≤—ã–±—Ä–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- [ ] –ö–∞–∫ `YearlyTracker` —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [ ] –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `useMemo` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- [ ] –ü–æ—á–µ–º—É `getAllMoodDataAsObject()` –±—ã—Å—Ç—Ä–µ–µ —á–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã `getMoodByDate()` –≤ —Ü–∏–∫–ª–µ
- [ ] –ö–∞–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ `YearlyTracker` (—á—Ç–µ–Ω–∏–µ localStorage –æ–¥–∏–Ω —Ä–∞–∑ –≤–º–µ—Å—Ç–æ 372 —Ä–∞–∑)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –ø–æ–Ω–∏–º–∞–Ω–∏—è –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–∏:

1. **–ò–∑—É—á–∏—Ç–µ React —Ö—É–∫–∏:**

   - `useState` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
   - `useEffect` - –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
   - `useMemo` - –º–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

2. **–ò–∑—É—á–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**

   - Custom Events –¥–ª—è –º–µ–∂–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
   - Lazy initialization –≤ useState
   - Type guards –≤ TypeScript

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–ª—É—á—à–∏—Ç—å:**
   - –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞ –ø—Ä–æ—à–ª—ã–µ –¥–∞—Ç—ã
   - –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±—ã–ª–æ –∫–∞–∂–¥–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ)
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤ YearlyTracker

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [React Hooks –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://react.dev/reference/react)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)
- [MDN: localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage)
- [MDN: Custom Events](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent)
